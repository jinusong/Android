# Activity Lifecycle
---
* #### 액티비티의 현재 상태는 액티비티 스택안에서의 위치에 따라 결정된다.

## 액티비티 스택 - LIFO
* 안드로이드 런타임 시스템에서는 장치에서 실행 중인 각 애플리케이션에 대해 액티비티 스택을 유지 관리한다.
* 첫번째 액티비티에서 두번째 액티비티가 시작되면 이전 액티비티는 밑으로 들어가고(PUSH), 그 액티비티가 스택의 맨위에 위치하게 된다.
* 활성화된 액티비티가 종료되면 그 액티비티는 스택에서 빠지고(POP), 그 바로 밑에 있던 액티비티가 위로 올라오면서 활성화된 액티비티가 된다.
* 만약 시스템의 리소시가 부족하게 될 경우 스택 제일 밑에 있는 액티비티부터 제거된다.
## 액티비티 상태
#### 실행(Active/Running)
* 액티비티가 스택의 맨 위에 있고, 장치 화면에서 볼 수 있는 포그라운드 태스크이며, 
* **사용자와 현재 상호작용**하고 있다. 이런 것은 시스템 리소스가 부족할 때에도 거의 중단되지 않는다.
#### 일시 중지(Paused)
* 사용자가 화면에서 볼 수 있지만 포커스를 갖고 있지 않은 경우다. 현재 실행 중인 액티비티가 부분적으로 이 액티비티 화면을 가리고 있기 때문이다.
* 일시 중지된 액티비티는 메모리에 보존되어 있고, 창 매니저에 연결된 채로 있으며, 자신의 모든 상태 정보를 갖고 있다.
* **액티비티 스택의 맨 위로 이동되면 실행 상태로 빨리 복원**될 수 있다.
#### 중단(Stopped)
* 액티비티가 사용자에게 보이지 않는다, 장치 화면에서 이 액티비티 화면 전체를 다른 액티비티가 가리고 있을 때다.
* 일시 중지 액티비티처럼 이 액티비티는 모든 상태와 멤버 데이터를 보존하고 있다. 그러나 **리소스가 부족할 때 중단될 가능성이 높다.**
#### 소멸(killed)
* 메모리 해제를 위해 런타임 시스템에 의해 액티비티가 종료되었으며, **액티비티 스택에도 존재하지 않는다.**
* 만일 애플리케이션에서 요청하면 이런 액티비티들은 다시 시작되어야 한다.
------
## 추가 
### 액티비티의 상태가 변하는 두 가지 요인
#### 첫번째
* 앞에서 정리한 것들처럼 포그라운드와 백그라운드 간의 액티비티 이동과 메모리 해제를 위해 런타임 시스템이 액티비티를 종료시키는 것이다.
#### 두번쩨 - 장치 구성의 변경
* 기본적으로 화면에 나타난 사용자 인터페이스에 영향을 주는 구성 변경은 액티비티 인스턴스를 소멸시키고 새로 생성되게 만든다.
* 예) 장치의 방향을 가로에서 세로 또는 세로에서 가로로 회전시킬 때, 시스템 폰트 설정을 변경할 때